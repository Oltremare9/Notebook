# 操作系统

### <u>进程通信的方式</u>

#### 管道

> 通常指无名管道
>
> 1. 它是半双工的（即数据只能在一个方向上流动），具有固定的读端和写端。
> 2. 它只能用于具有亲缘关系的进程之间的通信（也是**父子进程或者兄弟进程**之间）。
> 3. 它可以看成是一种特殊的文件，对于它的读写也可以使用普通的read、write 等函数。但是它不是普通的文件，并不属于其他任何文件系统，并且只存在于内存中。

#### 命名管道

> 也称FIFO 是一种文件类型
>
> 1. FIFO可以在**无关的进程**之间交换数据，与无名管道不同。
> 2. FIFO有路径名与之相关联，它以一种特殊设备文件形式存在于文件系统中。

#### 消息队列

> 是消息的链接表，存放在内核中
>
> 1. 消息队列是面向记录的，其中的消息具有特定的格式以及特定的优先级。
> 2. 消息队列独立于发送与接收进程。进程终止时，消息队列及其内容并不会被删除。
> 3. 消息队列可以实现消息的随机查询,消息不一定要以先进先出的次序读取,也可以按消息的类型读取。

#### 信号量

> 它是一个计数器。信号量用于实现进程间的**互斥与同步**，而不是用于存储进程间通信数据
>
> 1. 信号量用于进程间同步，若要在进程间传递数据需要结合共享内存。
> 2. 信号量基于操作系统的 PV 操作，程序对信号量的操作都是原子操作。
> 3. 每次对信号量的 PV 操作不仅限于对信号量值加 1 或减 1，而且可以加减任意正整数。
> 4. 支持信号量组。

#### 共享内存

> 指两个或多个进程共享一个给定的存储区。
>
> 1. 共享内存是最快的一种 IPC，因为进程是直接对内存进行存取。
> 2. 因为多个进程可以同时操作，所以需要进行同步。
> 3. 信号量+共享内存通常结合在一起使用，信号量用来同步对共享内存的访问。



系统调用内核切换的细节



